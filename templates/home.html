<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ImageCrafter | All Tools</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .tool-card {
            transition: transform 0.2s;
            cursor: pointer;
        }

        .tool-card:hover {
            transform: scale(1.03);
        }

        .modal-backdrop {
            z-index: 0;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark px-4">
    <a class="navbar-brand fw-bold text-white" href="/">ImageCrafter</a>
    <div>
        <a href="{{ url_for('auth.login') }}" class="btn btn-outline-light me-2">Login</a>
        <a href="{{ url_for('auth.register') }}" class="btn btn-outline-light">Register</a>
    </div>
</nav>

<!-- Container -->
<div class="container mt-5">
    <h2 class="text-center mb-4">üì¶ Available Tools</h2>
    <div class="row g-4">

        <!-- Tool Cards -->
        <div class="col-md-6 col-lg-3">
            <a href="/tool/image-converter" class="text-decoration-none text-dark">
                <div class="card tool-card shadow text-center p-3">
                    <div class="display-4">üñºÔ∏è</div>
                    <h5 class="mt-3">Image Converter</h5>
                </div>
            </a>
        </div>

        <div class="col-md-6 col-lg-3">
            <a href="/tool/image-to-pdf" class="text-decoration-none text-dark">
                <div class="card tool-card shadow text-center p-3">
                    <div class="display-4">üìÑ</div>
                    <h5 class="mt-3">Image to PDF</h5>
                </div>
            </a>
        </div>

        <div class="col-md-6 col-lg-3">
            <a href="/tool/pdf-to-images" class="text-decoration-none text-dark">
                <div class="card tool-card shadow text-center p-3">
                    <div class="display-4">üìö</div>
                    <h5 class="mt-3">PDF to Images</h5>
                </div>
            </a>
        </div>

        <div class="col-md-6 col-lg-3">
            <a href="/tool/image-compressor" class="text-decoration-none text-dark">
                <div class="card tool-card shadow text-center p-3">
                    <div class="display-4">üóúÔ∏è</div>
                    <h5 class="mt-3">Image Compressor</h5>
                </div>
            </a>
        </div>
    </div>
</div>

<!-- Guest/Login Modal -->
<div class="modal fade" id="guestLoginModal" tabindex="-1" aria-labelledby="guestLoginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-center">
            <div class="modal-header">
                <h5 class="modal-title w-100" id="guestLoginModalLabel">Welcome to ImageCrafter</h5>
            </div>
            <div class="modal-body">
                <p>Do you want to continue as a guest user or login user?</p>
                <div class="d-flex justify-content-center gap-3 mt-3">
                    <button class="btn btn-outline-secondary" id="continueGuest">Continue as Guest</button>
                    <a href="{{ url_for('auth.login') }}" class="btn btn-primary">Login</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Only show popup if user is not logged in
        const isLoggedIn = {{ 'true' if current_user.is_authenticated else 'false' }};
        if (!isLoggedIn) {
            const modal = new bootstrap.Modal(document.getElementById('guestLoginModal'));
            modal.show();

            document.getElementById('continueGuest').addEventListener('click', function () {
                modal.hide();
            });
        }
    });
</script>
</body>
</html>
